# 선공형 몬스터 UI 표시 시스템 구현 계획

## 구현 작업 목록

- [x] 1. MessageHandler에 monster_aggro 메시지 라우팅 추가


  - MessageHandler.js의 handleSpecificMessageTypes 메서드에 monster_aggro 케이스 추가
  - GameModule.handleMonsterAggro 메서드 호출 로직 구현
  - 대체 처리 로직 추가 (메서드가 없는 경우)
  - _요구사항: 2.1, 2.2, 2.3_

- [ ] 2. GameModule에 선공형 몬스터 공격 처리 메서드 구현

  - GameModule.js에 handleMonsterAggro 메서드 추가
  - 공격 메시지 파싱 및 UI 표시 로직 구현
  - 전투 상태 연동 로직 추가 (필요시)
  - 콘솔 로깅으로 디버깅 지원
  - _요구사항: 1.1, 1.2, 3.1_

- [ ] 3. 선공형 몬스터 메시지 스타일링 구현

  - CSS에 warning 스타일 클래스 추가
  - 몬스터 공격 메시지용 애니메이션 효과 구현
  - 시각적 강조를 위한 색상 및 레이아웃 설정
  - _요구사항: 1.3_

- [ ] 4. 에러 처리 및 대체 로직 구현

  - MessageHandler의 try-catch 에러 처리 추가
  - GameModule의 안전한 메시지 표시 로직 구현
  - 서버 메시지 검증 로직 추가
  - 최소한의 대체 알림 시스템 구현
  - _요구사항: 2.3, 3.3_

- [ ] 5. 브라우저 캐시 문제 해결 및 테스트 환경 준비

  - 서버 재시작 및 브라우저 강제 새로고침 수행
  - 개발자 도구에서 실제 로드된 파일 버전 확인
  - 코드 변경사항이 올바르게 반영되었는지 검증
  - _요구사항: 3.1, 3.2_

- [ ] 6. 실시간 테스트 수행 및 검증

  - 표준 테스트 절차에 따라 forest_7_7 이동 테스트
  - 브라우저 콘솔과 UI 메시지 동기화 확인
  - 선공형 몬스터 공격 메시지가 3초 이내 UI 표시 확인
  - 자동 전투 시작 및 UI 전환 확인
  - _요구사항: 4.1, 4.2, 4.3_

- [ ] 7. 다양한 시나리오 테스트 및 안정성 검증

  - 여러 선공형 몬스터가 있는 방에서의 동작 테스트
  - 연속적인 방 이동 시 메시지 처리 테스트
  - 네트워크 지연 상황에서의 메시지 처리 테스트
  - 에러 상황에서의 대체 로직 동작 확인
  - _요구사항: 3.3_

- [ ] 8. 코드 품질 검증 및 최종 통합 테스트
  - 브라우저 콘솔에서 JavaScript 오류 없음 확인
  - 기존 메시지 처리 시스템과의 호환성 확인
  - 전체 게임 플로우에서 선공형 몬스터 시스템 동작 확인
  - 성능 영향도 측정 및 최적화
  - _요구사항: 1.1, 2.1, 3.1, 4.1_
